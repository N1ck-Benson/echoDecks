import {
  CircularProgress,
  Paper,
  Typography,
  IconButton,
  Divider,
} from "@material-ui/core";
import { ChevronRight, Done, DoneAll, SwapHoriz } from "@material-ui/icons";
import { useEffect, useState } from "react";
import { gql, useQuery } from "@apollo/client";
import "../styles/LearnDeck.css";

const LearnDeck = (props) => {
  const dummyDeck = {
    id: 9,
    title: "New deck",
    lemmas: ["como", "hablar", ""],
    flashcards: JSON.parse(
      '[{"lemma":"hablar","content":[{"src":"Los padres deben hablar con sus hijos [...] sobre cómo mantenerse sanos.","dst":"Parents should talk to their children [...] about how they are going to be healthy."},{"src":"Trabajo en lo que me [...] gusta y me permite hablar un poquito de [...] María compartiendo con Hnos separados cada uno con su historia pero con respeto.","dst":"My work pleases me [...] and allows me to speak a little about [...] Mary in exchanging with people of other faiths their story, but with respect."},{"src":"Si quiere hablar con uno de nuestros especialistas [...] de productos, llame al número de teléfono para su país en la página Atención al Cliente.","dst":"If you\'d like to talk to one of our product [...] specialists, please go to our contact us page and choose between a telephone call, skype or email."},{"src":"Bueno, primero hablar con la gente que [...] sabe y que hagan un proyecto.","dst":"Well, first talk to the people who know [...] and have them make a project."},{"src":"Algunos voluntarios disfrutan de [...] dirigir actividades o hablar sobre su carrera.","dst":"Some volunteers will enjoy [...] leading activities or talking about their careers."},{"src":"Se puede hablar de patología mecánica pero, no obstante, este factor mecánico no conduce a una enfermedad degenerativa sino a una enfermedad realmente activa.","dst":"We may consider this a mechanical pathology, and yet this mechanical factor does not lead to a degenerative disease, but to a truly active disease."},{"src":"No me gusta hablar a medias tintas, [...] y diré lo que pienso.","dst":"I don\'t like hedging my words, and [...] I shall say what I am thinking."},{"src":"Y pude hablar con el médico antes [...] de que lo operaran.","dst":"And I was able to talk to the doctor [...] before he was operated on."},{"src":"Le permitían hablar con José Carlos durante [...] 5 minutos, la acompañaba un agente y le indicaban que no debía hacerle preguntas.","dst":"They allowed her to speak to José Carlos for [...] five minutes, she was accompanied by an agent and she was told not to ask him any questions."},{"src":"No deje de tomar esta medicina de [...] forma súbita sin primero hablar con su médico.","dst":"Do not stop taking this medication [...] suddenly without first talking to your doctor."},{"src":"Sólo se permitirá hablar sobre el cierre [...] del debate a dos oradores que se opongan a él, después de lo cual la moción será [...] sometida inmediatamente a votación.","dst":"Permission to speak on the closure of the [...] debate shall be accorded only to two speakers opposing the closure, after which [...] the motion shall immediately be put to the vote."},{"src":"No tome esta medicina sin primero hablar con su médico si le está dando de amamantar al bebé.","dst":"Do not take this medication without telling your doctor if you are breast-feeding a baby."},{"src":"No le permitieron hablar con él; sólo echarle [...] un vistazo.","dst":"She was not allowed to speak with him; just get [...] a glimpse of him."},{"src":"Los diputados al Parlamento Europeo están [...] autorizados a hablar en nombre de [...] aquellos que los han elegido y no solo a título personal.","dst":"Members of the European Parliament [...] are entitled to speak of behalf of those [...] who elected them and not only for themselves."},{"src":"Zedillo me llamó para ver [...] con quién había que hablar.","dst":"Zedillo called me to know [...] who they need to talk to."},{"src":"Comenzó por hablar de las últimas horas [...] de un niño que había sido llevado por su madre a la guardería ubicada en el edificio [...] federal donde estalló la bomba.","dst":"He started by telling about the last [...] few hours of life of a young child who was dropped off by his mother at the day care [...] center in the federal building that was bombed."},{"src":"Pensaba que la cosa [...] más importante sobre la que hablar era lo que Greenpeace estaba [...] haciendo en materia de armas nucleares, residuos y energía.","dst":"I thought the most [...] important thing to talk about was the work that Greenpeace was [...] doing on nuclear weapons, waste, and energy issues."},{"src":"Cada padre tiene su [...] propio estilo para hablar acerca de asuntos [...] importantes.","dst":"Every parent has his or [...] her own style when talking about important subjects."},{"src":"Nunca habíamos oído hablar de NBIA y menos [...] de las enfermedades raras.","dst":"We had never heard of [...] NBIA before, let alone of rare diseases."},{"src":"Felicite a su hijo por [...] su valentía al hablar de lo que está [...] sucediendo.","dst":"Praise your child for [...] being brave enough to talk about it."},{"src":"6) a disponer de la asistencia gratuita de un intérprete si no [...] pueden comprender o hablar la lengua del [...] tribunal","dst":"(6) to have the free assistance of an interpreter if he cannot [...] understand or speak the language used [...] in court"},{"src":"Además de la riqueza [...] también deberíamos hablar del poder.","dst":"Besides wealth [...] we should also be speaking about power."},{"src":"Tenemos que poder hablar para defender [...] a sus víctimas y a las comunidades que ponen en peligro con su mera presencia y almacenando [...] armas en sus hogares, escuelas y lugares de culto.","dst":"We need to be able to speak out for their [...] victims and for the communities they endanger through their mere presence and [...] by storing weapons in homes, schools and places of worship."},{"src":"Pueden enterarse de estos y otros grupos de padres por hablar con el director, la secretaria de la escuela o el coordinador [...] de padres.","dst":"Parents can learn about these and other parent groups from the principal, school secretary, or parent liaison."},{"src":"Algunos países han pasado de hablar de renegociar o rescindir contratos con inversores extranjeros a hacerlo de expropiar inversiones extranjeras.","dst":"In some cases, countries have moved beyond discussions of renegotiation or rescission of contracts with foreign investors to the prospect of expropriating foreign investments."},{"src":"Y aún ha introducido [...] una manera nueva de hablar a la gente.","dst":"She has even [...] introduced a new way of speaking to the people."},{"src":"No podrán hablar con ninguna persona [...] que no figure en su lista de contactos.","dst":"They won\'t be able to talk to anyone who\'s [...] not on their contact list."},{"src":"Debe animarse a las personas a hablar sobre la donación de [...] órganos y a comunicar sus deseos a sus familiares.","dst":"People should be encouraged to speak about organ donation [...] and to communicate their wishes to their relatives."},{"src":"Es muchas [...] veces más fácil hablar de algo que practicarlo.","dst":"It is often [...] much easier to speak something than [...] to practice it."},{"src":"Puesto que no se puede identificar a los individuos de las generaciones [...] futuras, no se puede hablar de sus derechos.","dst":"Since we cannot identify individuals in future generations, it is [...] not possible to speak of their rights."}]},{"lemma":"como","content":[{"src":"Esta auditoría se centró en la planificación y [...] supervisión estratégica, así como en la supervisión [...] operativa y financiera.","dst":"The audit focused on strategic planning [...] and monitoring as well as on operational [...] and financial monitoring."},{"src":"Por lo tanto, la intervención [...] armada debe considerarse como último recurso.","dst":"Hence, armed [...] intervention must be seen as an instrument of last resort."},{"src":"La asignación de la responsabilidad central de [...] varias medidas, por ejemplo a un órgano [...] dedicado de vigilancia como un comisionado de [...] información, Defensor del Pueblo o comisión [...] de derechos humanos, o a un departamento del gobierno central proporcionará un punto de responsabilidad para asegurar que se asignen adecuados recursos y atención a este importante asunto.","dst":"The allocation of central responsibility for various [...] measures - for example to a dedicated [...] oversight body such as an information commissioner, [...] ombudsman or human rights commission, [...] or to a central government department - will provide a locus of responsibility for ensuring that adequate attention and resources are paid to this important matter."},{"src":"Cold Marketing\\" se define como cualquier actividad [...] promocional que está diseñada hacia individuos escogidos al azar, quienes [...] no tienen ninguna relación personal, comercial o social, o relación de conocidos con el promotor.","dst":"Cold marketing is defined as any promotional activity [...] that is geared toward random individuals who have no personal, business, [...] social or acquaintance relationship(s) with the promoter."},{"src":"Como nos enseña el Talmud, [...] \\"El que salva una vida humana, salva al mundo entero\\".","dst":"As the Talmud teaches us, [...] \\"He who saves one human life saves the world entire."},{"src":"1 Día de los Muertos (México): visitas a los cementerios y decoración de los santuarios como homenaje de los difuntos ?","dst":"1 Día de los Muertos (Day of the Dead, Mexico): Cemeteries are visited and shrines decorated to honor departed loved ones ?"},{"src":"Usen un diccionario bilingüe o un [...] traductor en la red como www.wordreference.com.","dst":"Use a bilingual dictionary or an [...] online translator like www.wordreference.com."},{"src":"Este tipo de fiestas son necesarias para activar la economía de [...] los municipios, como alternativa al modelo [...] productivo de la agricultura y la construcción.","dst":"This kind of parties are needed to boost the economy of [...] the municipalities, as an alternative production [...] model of agriculture and construction."},{"src":"Los avances han sido [...] considerables en ese sentido, como ponen de manifiesto [...] las 14 rondas de conversaciones técnicas y la [...] reunión en la cumbre celebradas en 2006.","dst":"Progress in that regard [...] has been significant, as evidenced by 14 rounds [...] of technical-level talks and one summit-level meeting held in 2006."},{"src":"Ellos conocían a su familia y me [...] dijeron que estaba como a dos horas del lugar.","dst":"They knew his family and [...] told me that I was about two hours from [...] the place."},{"src":"Esta información puede ayudarle al médico a entender [...] tanto la gravedad como la causa subyacente.","dst":"This information may help your doctor figure out both [...] their seriousness and their underlying cause."},{"src":"Cuba está profundamente expuesta a los desastres de [...] oriegen natural tales como ciclones, inundaciones, [...] intensas lluvias y fuertes vientos.","dst":"Cuba is heavily exposed to [...] natural hazards such as tropical cyclones, [...] floods, intense rains and strong winds."},{"src":"Esto implica que puede incrementar su nivel de [...] información técnica tal como desee y tenerla siempre [...] actualizada.","dst":"This means you can upscale your range of [...] technical information as desired and always [...] stay up to date with it."},{"src":"No se enviará ninguna otra información que pudiera asociarse a la [...] dirección web, como los términos de [...] búsqueda, información ingresada en formularios o cookies.","dst":"Other information that might be associated with [...] the web address, such as search terms, [...] information you entered in forms, or cookies, will not be sent."},{"src":"Es como una buena historia [...] de amor - siempre vale la pena esperar.","dst":"This is like a good love [...] story - it is always worth waiting for."},{"src":"Puede desencadenar un [...] largo proceso y, como nuestro muchacho [...] solo y perdido, hasta protagonizar una ponencia en un simposio [...] forense y ser observado -sus series de fotos, vivo y muerto- por esta periodista en la pantalla de un ordenador de un juzgado de guardia.","dst":"It may set off a long and [...] protracted process and, as in the case of the [...] lost and lonely young man, even be the raw material [...] for a talk at a forensic symposium and be observed - series of photos of him, alive and dead - by this journalist on a computer screen in a Police Court."},{"src":"El lugar del exitoso campamento de oro mormón [...] pronto se conoció como Mormon Island.","dst":"The site of the successful Mormon gold [...] camp soon became known as Mormon Island."},{"src":"En los museos, ésta incluye tanto las obras [...] de origen digital, como los sustitutos numerizados [...] de objetos materiales que se utilizan [...] para completar distintos aspectos de su mantenimiento físico.","dst":"In the museum context, this includes both born-digital work and [...] the digitized surrogates for physical [...] objects that are used as adjuncts to various [...] aspects of their physical maintenance."},{"src":"Además encabeza allí, por medio del PT, el armado de una \\"salida política\\" [...] -lo que en la jerga del imperialismo ha [...] pasado a conocerse como \\"nation building\\", [...] o sea la creación de un Estado \'nacional\' [...] a partir de las potencias ocupantes-.","dst":"Besides this it is leading, through the PT, the setting up of the [...] \\"politic way out\\"- which in the jargon of [...] imperialism is known as \'nation building\', [...] this is to say the setting-up of a \'National\' [...] State originated by the occupying forces."},{"src":"Sin embargo el [...] tema es estudiado como una cuestion secundaria [...] porque contribuye a aumentar los índices de violencia en el país.","dst":"However, [...] the issue is examined as an ancillary topic [...] because it contributes to increasing violence rates in the country."},{"src":"La formación permite un mejor conocimiento de [...] software y volver en detalle en las opciones [...] avanzadas, tales como SQL Server, que me [...] permitirá ser más independientes en caso de problemas técnicos.","dst":"The training gives us a better knowledge of the [...] software and review some advanced [...] options in details, such as SQL Server, which [...] will help me being more autonomous in case of technical issues."},{"src":"Se deben [...] apoyar y fomentar tanto la dimensión regional como la titularidad.","dst":"Regional dimension and ownership must be supported and encouraged."},{"src":"(NL) Señor Presidente, nos enfrentamos a un problema [...] muy difícil, tal como refleja el elevado [...] número de oradores que han intervenido.","dst":"(NL) Mr President, we are facing a [...] difficult issue, as evidenced by the [...] large number of speakers."},{"src":"educación y el desarrollo del lenguaje, la [...] cultura y las artes como parte del patrimonio [...] cultural","dst":"education and the development of language, [...] culture and the arts as part of the cultural [...] heritage"},{"src":"Goza de reconocimiento a nivel [...] tanto nacional como internacional.","dst":"It enjoys both national and international recognition."},{"src":"Serginho [...] hablará sobre como la música perfecta [...] pueda garantizar el éxito de una campaña publicitaria.","dst":"Serginho [...] will speak about how the right music [...] can guarantee the success of an advertising campaign."},{"src":"a) para las mezclas de materias sólidas o líquidas, así como para las soluciones y las materias sólidas mojadas por un líquido, la parte de la masa indicada en porcentaje en relación con la masa total de la mezcla, [...] [...] la solución o la materia mojada","dst":"(a) in the case of mixtures of solids or of liquids, and also in the case of solutions and of solids wetted by a liquid, a percentage mass based on the total mass of the mixture, the solution or the wetted solid"},{"src":"Desde hace tiempo que ya apenas se puede distinguir entre la alta cultura y la pop como mucho en la Europa occidental y en las costas estadounidenses.","dst":"The days are long gone when you could tell the difference between high culture and pop culture anywhere except possibly in Western Europe and on the American East and West Coasts."},{"src":"De acuerdo a los requerimientos del [...] cliente puede ser provisto como adicional.","dst":"According to the customer\'s [...] requirements it can be added as an optional accessory."},{"src":"No obstante, acepta que existen lagunas en el mercado para algunos tipos de inversión en ciertas fases del desarrollo de las empresas que podrían derivarse de un [...] desajuste entre la oferta y la demanda de capital riesgo y que, en general, se [...] puede describir como falta de fondos [...] propios.","dst":"It does, however, accept that there are market gaps for some types of investment at certain stages of enterprises\' development which are [...] the result of imperfect matching of supply of and demand for risk capital and can [...] generally be described as an equity gap."}]}]'
    ),
    isLearned: false,
  };
  const dummyFlashcards = JSON.parse(
    '[{"lemma":"hablar","content":[{"src":"Los padres deben hablar con sus hijos [...] sobre cómo mantenerse sanos.","dst":"Parents should talk to their children [...] about how they are going to be healthy."},{"src":"Trabajo en lo que me [...] gusta y me permite hablar un poquito de [...] María compartiendo con Hnos separados cada uno con su historia pero con respeto.","dst":"My work pleases me [...] and allows me to speak a little about [...] Mary in exchanging with people of other faiths their story, but with respect."},{"src":"Si quiere hablar con uno de nuestros especialistas [...] de productos, llame al número de teléfono para su país en la página Atención al Cliente.","dst":"If you\'d like to talk to one of our product [...] specialists, please go to our contact us page and choose between a telephone call, skype or email."},{"src":"Bueno, primero hablar con la gente que [...] sabe y que hagan un proyecto.","dst":"Well, first talk to the people who know [...] and have them make a project."},{"src":"Algunos voluntarios disfrutan de [...] dirigir actividades o hablar sobre su carrera.","dst":"Some volunteers will enjoy [...] leading activities or talking about their careers."},{"src":"Se puede hablar de patología mecánica pero, no obstante, este factor mecánico no conduce a una enfermedad degenerativa sino a una enfermedad realmente activa.","dst":"We may consider this a mechanical pathology, and yet this mechanical factor does not lead to a degenerative disease, but to a truly active disease."},{"src":"No me gusta hablar a medias tintas, [...] y diré lo que pienso.","dst":"I don\'t like hedging my words, and [...] I shall say what I am thinking."},{"src":"Y pude hablar con el médico antes [...] de que lo operaran.","dst":"And I was able to talk to the doctor [...] before he was operated on."},{"src":"Le permitían hablar con José Carlos durante [...] 5 minutos, la acompañaba un agente y le indicaban que no debía hacerle preguntas.","dst":"They allowed her to speak to José Carlos for [...] five minutes, she was accompanied by an agent and she was told not to ask him any questions."},{"src":"No deje de tomar esta medicina de [...] forma súbita sin primero hablar con su médico.","dst":"Do not stop taking this medication [...] suddenly without first talking to your doctor."},{"src":"Sólo se permitirá hablar sobre el cierre [...] del debate a dos oradores que se opongan a él, después de lo cual la moción será [...] sometida inmediatamente a votación.","dst":"Permission to speak on the closure of the [...] debate shall be accorded only to two speakers opposing the closure, after which [...] the motion shall immediately be put to the vote."},{"src":"No tome esta medicina sin primero hablar con su médico si le está dando de amamantar al bebé.","dst":"Do not take this medication without telling your doctor if you are breast-feeding a baby."},{"src":"No le permitieron hablar con él; sólo echarle [...] un vistazo.","dst":"She was not allowed to speak with him; just get [...] a glimpse of him."},{"src":"Los diputados al Parlamento Europeo están [...] autorizados a hablar en nombre de [...] aquellos que los han elegido y no solo a título personal.","dst":"Members of the European Parliament [...] are entitled to speak of behalf of those [...] who elected them and not only for themselves."},{"src":"Zedillo me llamó para ver [...] con quién había que hablar.","dst":"Zedillo called me to know [...] who they need to talk to."},{"src":"Comenzó por hablar de las últimas horas [...] de un niño que había sido llevado por su madre a la guardería ubicada en el edificio [...] federal donde estalló la bomba.","dst":"He started by telling about the last [...] few hours of life of a young child who was dropped off by his mother at the day care [...] center in the federal building that was bombed."},{"src":"Pensaba que la cosa [...] más importante sobre la que hablar era lo que Greenpeace estaba [...] haciendo en materia de armas nucleares, residuos y energía.","dst":"I thought the most [...] important thing to talk about was the work that Greenpeace was [...] doing on nuclear weapons, waste, and energy issues."},{"src":"Cada padre tiene su [...] propio estilo para hablar acerca de asuntos [...] importantes.","dst":"Every parent has his or [...] her own style when talking about important subjects."},{"src":"Nunca habíamos oído hablar de NBIA y menos [...] de las enfermedades raras.","dst":"We had never heard of [...] NBIA before, let alone of rare diseases."},{"src":"Felicite a su hijo por [...] su valentía al hablar de lo que está [...] sucediendo.","dst":"Praise your child for [...] being brave enough to talk about it."},{"src":"6) a disponer de la asistencia gratuita de un intérprete si no [...] pueden comprender o hablar la lengua del [...] tribunal","dst":"(6) to have the free assistance of an interpreter if he cannot [...] understand or speak the language used [...] in court"},{"src":"Además de la riqueza [...] también deberíamos hablar del poder.","dst":"Besides wealth [...] we should also be speaking about power."},{"src":"Tenemos que poder hablar para defender [...] a sus víctimas y a las comunidades que ponen en peligro con su mera presencia y almacenando [...] armas en sus hogares, escuelas y lugares de culto.","dst":"We need to be able to speak out for their [...] victims and for the communities they endanger through their mere presence and [...] by storing weapons in homes, schools and places of worship."},{"src":"Pueden enterarse de estos y otros grupos de padres por hablar con el director, la secretaria de la escuela o el coordinador [...] de padres.","dst":"Parents can learn about these and other parent groups from the principal, school secretary, or parent liaison."},{"src":"Algunos países han pasado de hablar de renegociar o rescindir contratos con inversores extranjeros a hacerlo de expropiar inversiones extranjeras.","dst":"In some cases, countries have moved beyond discussions of renegotiation or rescission of contracts with foreign investors to the prospect of expropriating foreign investments."},{"src":"Y aún ha introducido [...] una manera nueva de hablar a la gente.","dst":"She has even [...] introduced a new way of speaking to the people."},{"src":"No podrán hablar con ninguna persona [...] que no figure en su lista de contactos.","dst":"They won\'t be able to talk to anyone who\'s [...] not on their contact list."},{"src":"Debe animarse a las personas a hablar sobre la donación de [...] órganos y a comunicar sus deseos a sus familiares.","dst":"People should be encouraged to speak about organ donation [...] and to communicate their wishes to their relatives."},{"src":"Es muchas [...] veces más fácil hablar de algo que practicarlo.","dst":"It is often [...] much easier to speak something than [...] to practice it."},{"src":"Puesto que no se puede identificar a los individuos de las generaciones [...] futuras, no se puede hablar de sus derechos.","dst":"Since we cannot identify individuals in future generations, it is [...] not possible to speak of their rights."}]},{"lemma":"como","content":[{"src":"Esta auditoría se centró en la planificación y [...] supervisión estratégica, así como en la supervisión [...] operativa y financiera.","dst":"The audit focused on strategic planning [...] and monitoring as well as on operational [...] and financial monitoring."},{"src":"Por lo tanto, la intervención [...] armada debe considerarse como último recurso.","dst":"Hence, armed [...] intervention must be seen as an instrument of last resort."},{"src":"La asignación de la responsabilidad central de [...] varias medidas, por ejemplo a un órgano [...] dedicado de vigilancia como un comisionado de [...] información, Defensor del Pueblo o comisión [...] de derechos humanos, o a un departamento del gobierno central proporcionará un punto de responsabilidad para asegurar que se asignen adecuados recursos y atención a este importante asunto.","dst":"The allocation of central responsibility for various [...] measures - for example to a dedicated [...] oversight body such as an information commissioner, [...] ombudsman or human rights commission, [...] or to a central government department - will provide a locus of responsibility for ensuring that adequate attention and resources are paid to this important matter."},{"src":"Cold Marketing\\" se define como cualquier actividad [...] promocional que está diseñada hacia individuos escogidos al azar, quienes [...] no tienen ninguna relación personal, comercial o social, o relación de conocidos con el promotor.","dst":"Cold marketing is defined as any promotional activity [...] that is geared toward random individuals who have no personal, business, [...] social or acquaintance relationship(s) with the promoter."},{"src":"Como nos enseña el Talmud, [...] \\"El que salva una vida humana, salva al mundo entero\\".","dst":"As the Talmud teaches us, [...] \\"He who saves one human life saves the world entire."},{"src":"1 Día de los Muertos (México): visitas a los cementerios y decoración de los santuarios como homenaje de los difuntos ?","dst":"1 Día de los Muertos (Day of the Dead, Mexico): Cemeteries are visited and shrines decorated to honor departed loved ones ?"},{"src":"Usen un diccionario bilingüe o un [...] traductor en la red como www.wordreference.com.","dst":"Use a bilingual dictionary or an [...] online translator like www.wordreference.com."},{"src":"Este tipo de fiestas son necesarias para activar la economía de [...] los municipios, como alternativa al modelo [...] productivo de la agricultura y la construcción.","dst":"This kind of parties are needed to boost the economy of [...] the municipalities, as an alternative production [...] model of agriculture and construction."},{"src":"Los avances han sido [...] considerables en ese sentido, como ponen de manifiesto [...] las 14 rondas de conversaciones técnicas y la [...] reunión en la cumbre celebradas en 2006.","dst":"Progress in that regard [...] has been significant, as evidenced by 14 rounds [...] of technical-level talks and one summit-level meeting held in 2006."},{"src":"Ellos conocían a su familia y me [...] dijeron que estaba como a dos horas del lugar.","dst":"They knew his family and [...] told me that I was about two hours from [...] the place."},{"src":"Esta información puede ayudarle al médico a entender [...] tanto la gravedad como la causa subyacente.","dst":"This information may help your doctor figure out both [...] their seriousness and their underlying cause."},{"src":"Cuba está profundamente expuesta a los desastres de [...] oriegen natural tales como ciclones, inundaciones, [...] intensas lluvias y fuertes vientos.","dst":"Cuba is heavily exposed to [...] natural hazards such as tropical cyclones, [...] floods, intense rains and strong winds."},{"src":"Esto implica que puede incrementar su nivel de [...] información técnica tal como desee y tenerla siempre [...] actualizada.","dst":"This means you can upscale your range of [...] technical information as desired and always [...] stay up to date with it."},{"src":"No se enviará ninguna otra información que pudiera asociarse a la [...] dirección web, como los términos de [...] búsqueda, información ingresada en formularios o cookies.","dst":"Other information that might be associated with [...] the web address, such as search terms, [...] information you entered in forms, or cookies, will not be sent."},{"src":"Es como una buena historia [...] de amor - siempre vale la pena esperar.","dst":"This is like a good love [...] story - it is always worth waiting for."},{"src":"Puede desencadenar un [...] largo proceso y, como nuestro muchacho [...] solo y perdido, hasta protagonizar una ponencia en un simposio [...] forense y ser observado -sus series de fotos, vivo y muerto- por esta periodista en la pantalla de un ordenador de un juzgado de guardia.","dst":"It may set off a long and [...] protracted process and, as in the case of the [...] lost and lonely young man, even be the raw material [...] for a talk at a forensic symposium and be observed - series of photos of him, alive and dead - by this journalist on a computer screen in a Police Court."},{"src":"El lugar del exitoso campamento de oro mormón [...] pronto se conoció como Mormon Island.","dst":"The site of the successful Mormon gold [...] camp soon became known as Mormon Island."},{"src":"En los museos, ésta incluye tanto las obras [...] de origen digital, como los sustitutos numerizados [...] de objetos materiales que se utilizan [...] para completar distintos aspectos de su mantenimiento físico.","dst":"In the museum context, this includes both born-digital work and [...] the digitized surrogates for physical [...] objects that are used as adjuncts to various [...] aspects of their physical maintenance."},{"src":"Además encabeza allí, por medio del PT, el armado de una \\"salida política\\" [...] -lo que en la jerga del imperialismo ha [...] pasado a conocerse como \\"nation building\\", [...] o sea la creación de un Estado \'nacional\' [...] a partir de las potencias ocupantes-.","dst":"Besides this it is leading, through the PT, the setting up of the [...] \\"politic way out\\"- which in the jargon of [...] imperialism is known as \'nation building\', [...] this is to say the setting-up of a \'National\' [...] State originated by the occupying forces."},{"src":"Sin embargo el [...] tema es estudiado como una cuestion secundaria [...] porque contribuye a aumentar los índices de violencia en el país.","dst":"However, [...] the issue is examined as an ancillary topic [...] because it contributes to increasing violence rates in the country."},{"src":"La formación permite un mejor conocimiento de [...] software y volver en detalle en las opciones [...] avanzadas, tales como SQL Server, que me [...] permitirá ser más independientes en caso de problemas técnicos.","dst":"The training gives us a better knowledge of the [...] software and review some advanced [...] options in details, such as SQL Server, which [...] will help me being more autonomous in case of technical issues."},{"src":"Se deben [...] apoyar y fomentar tanto la dimensión regional como la titularidad.","dst":"Regional dimension and ownership must be supported and encouraged."},{"src":"(NL) Señor Presidente, nos enfrentamos a un problema [...] muy difícil, tal como refleja el elevado [...] número de oradores que han intervenido.","dst":"(NL) Mr President, we are facing a [...] difficult issue, as evidenced by the [...] large number of speakers."},{"src":"educación y el desarrollo del lenguaje, la [...] cultura y las artes como parte del patrimonio [...] cultural","dst":"education and the development of language, [...] culture and the arts as part of the cultural [...] heritage"},{"src":"Goza de reconocimiento a nivel [...] tanto nacional como internacional.","dst":"It enjoys both national and international recognition."},{"src":"Serginho [...] hablará sobre como la música perfecta [...] pueda garantizar el éxito de una campaña publicitaria.","dst":"Serginho [...] will speak about how the right music [...] can guarantee the success of an advertising campaign."},{"src":"a) para las mezclas de materias sólidas o líquidas, así como para las soluciones y las materias sólidas mojadas por un líquido, la parte de la masa indicada en porcentaje en relación con la masa total de la mezcla, [...] [...] la solución o la materia mojada","dst":"(a) in the case of mixtures of solids or of liquids, and also in the case of solutions and of solids wetted by a liquid, a percentage mass based on the total mass of the mixture, the solution or the wetted solid"},{"src":"Desde hace tiempo que ya apenas se puede distinguir entre la alta cultura y la pop como mucho en la Europa occidental y en las costas estadounidenses.","dst":"The days are long gone when you could tell the difference between high culture and pop culture anywhere except possibly in Western Europe and on the American East and West Coasts."},{"src":"De acuerdo a los requerimientos del [...] cliente puede ser provisto como adicional.","dst":"According to the customer\'s [...] requirements it can be added as an optional accessory."},{"src":"No obstante, acepta que existen lagunas en el mercado para algunos tipos de inversión en ciertas fases del desarrollo de las empresas que podrían derivarse de un [...] desajuste entre la oferta y la demanda de capital riesgo y que, en general, se [...] puede describir como falta de fondos [...] propios.","dst":"It does, however, accept that there are market gaps for some types of investment at certain stages of enterprises\' development which are [...] the result of imperfect matching of supply of and demand for risk capital and can [...] generally be described as an equity gap."}]}]'
  );
  const [isLoading, setIsLoading] = useState(false);
  const [deck, setDeck] = useState(dummyDeck);
  const [flashcards, setFlashcards] = useState(dummyFlashcards);
  const [lemmaIndex, setLemmaIndex] = useState(0);
  const [cardIndex, setCardIndex] = useState(0);
  const [isFlipped, setIsFlipped] = useState(false);
  const totalCards = () => {
    let total = 0;
    flashcards.forEach((lemma) => {
      total += lemma.content.length;
    });
    return total;
  };
  const [progress, setProgress] = useState(1);
  const GET_DECK_QUERY = gql`
    query getDeck {
      deck (id: ${props.id}) {
        id
        title
        lemmas
        flashcards
        isLearned
      }
    }
  `;
  // const { loading, data } = useQuery(GET_DECK_QUERY);
  // !! remember to JSON.parse the flashcards key before doing setDecks
  // useEffect(() => {
  //   setIsLoading(loading);
  //   setDecks(data);
  // }, [loading, data]);

  console.log("cardIndex: ", cardIndex);

  const handleClick = (event) => {
    const { id } = event.target;
    const updatedFlashcards = flashcards;
    if (id === "Show translation") {
      setIsFlipped(!isFlipped);
    } else {
      if (id === "Done") {
        updatedFlashcards[lemmaIndex].content[cardIndex].isLearned = true;
        setFlashcards(updatedFlashcards);
      } else if (id === "All done") {
        updatedFlashcards[lemmaIndex].lemmaIsLearned = true;
        setFlashcards(updatedFlashcards);
      }
      const nextLemmaIndex = lemmaIndex + 1;
      if (nextLemmaIndex > flashcards.length) {
        setLemmaIndex(0);
        setCardIndex(cardIndex + 1);
      }
    }

    if (id === "Done") {
      updatedFlashcards[lemmaIndex].content[cardIndex].isLearned = true;
      setFlashcards(updatedFlashcards);
      const nextLemmaIndex = lemmaIndex + 1;
    } else if (id === "All done") {
      updatedFlashcards[lemmaIndex].lemmaIsLearned = true;
      setFlashcards(updatedFlashcards);
    } else if (id === "Show translation") {
      setIsFlipped(!isFlipped);
    } else if (id === "Send to back") {
      const nextLemmaIndex = lemmaIndex + 1;
      if (nextLemmaIndex > flashcards.length) {
        setLemmaIndex(0);
        setCardIndex(lemmaIndex + 1);
      }
    }
  };

  if (isLoading) return <CircularProgress color="primary" />;

  return (
    <main className="learn-deck-main">
      <div className="learn-deck-heading">
        <Typography variant="h6">{deck.title}</Typography>
        <p>{`${progress} / ${totalCards()}`}</p>
      </div>
      <section className="cards-list">
        <div className="card-stack">
          <Paper className="top-card" elevation={3}>
            <Typography variant="h6" className="card-heading">
              {flashcards[lemmaIndex].lemma}
            </Typography>
            <Divider className="Divider" />
            <Typography variant="body1" className="card-text">
              {flashcards[lemmaIndex].content[cardIndex].src}
            </Typography>
          </Paper>
          <Paper className="middle-card" elevation={5}></Paper>
          <Paper className="bottom-card" elevation={3}></Paper>
          <span className="card-pocket">
            <IconButton onClick={handleClick} className="IconButton">
              <Done color="primary" id="Done" />
            </IconButton>
            <IconButton onClick={handleClick} className="IconButton">
              <DoneAll color="primary" id="All done" />
            </IconButton>
            <IconButton onClick={handleClick} className="IconButton">
              <SwapHoriz color="primary" id="Show translation" />
            </IconButton>
            <IconButton onClick={handleClick} className="IconButton">
              <ChevronRight color="primary" id="Send to back" />
            </IconButton>
          </span>
        </div>
      </section>
    </main>
  );
};

export default LearnDeck;
